{% extends '__base__.html' %}

{% block title %}设备管理{% endblock %}

{% block js %}

		<script>

		function initVM(data) {
			$('#vm').show();
			var vm = new Vue({
				el: '#vm',
				data: {
					devices: data.devices,
				}
			});
		}

		$(function() {
			getJSON('/api/devices',
			function (err, results) {
				if (err) {
					return fatal(err);
				}
				$('#loading').hide();
				initVM(results);
			});
		});

		</script>

{% endblock %}		

{% block content %}
	
	<!-- 用户设备选择板块 -->
	    <div class="uk-width-1-1 uk-margin-bottom">
			<div class="uk-panel uk-panel-box">
				<ul class="uk-breadcrumb">
					<li class="uk-active"><span>设备</span></li>
					<li><a href="/manage/users">用户</a></li>
				</ul>
			</div>
		</div>
	
	<!-- 用户管理板块 -->

		<div id="loading" class="uk-width-1-1 uk-text-center">
			<span><i class="uk-icon-spinner uk-icon-medium uk-icon-spin"></i> 正在加载...</span>
		</div>

		<div id="vm" class="uk-width-1-1">
			<table class="uk-table uk-table-hover">
				<thead>
					<tr>
						<th class="uk-width-4-10">ID</th>
						<th class="uk-width-4-10">名称</th>
						<th class="uk-width-2-10">类型</th>
					</tr>
				</thead>
				<tbody>
					<tr v-repeat="decive: devices" >
						<td>
							<span v-text="decive.id"></span>
						</td>
						<td>
							<span v-text="decive.name"></span>
						</td>
						<td>
							<span v-text="decive.r_type"></span>
						</td>
					</tr>
				</tbody>
			</table>
		</div>		

{% endblock %}		